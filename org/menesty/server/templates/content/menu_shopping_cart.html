<? $contextUrl = $this->params["contextUrl"];?>

<div id="menu-cart" class="col-lg-3 col-md-4 col-sm-5">
    <div class="well">
        <div class="btn-group btn-group-cart">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                <span class="pull-left"><i class="fa fa-shopping-cart icon-cart"></i></span>
                <span class="pull-left"><?=Language::getMainLabel("shoping_card");?>: <?=ShoppingCart::get()->getTotalCount();?> <?=Language::getMainLabel("items_message");?></span>
                <? if(!ShoppingCart::isEmpty()) { ?>
                <span class="pull-right"><i class="fa fa-caret-down"></i></span>
                <? }; ?>
            </button>
            <? if(!ShoppingCart::isEmpty()) { ?>
            <ul class="dropdown-menu cart-content" role="menu">
                <? foreach(ShoppingCart::get()->getItems() as $cartItem) { ?>
                <li>
                    <a href="<?=$contextUrl;?>catalog/detail/<?=$cartItem->getArtNumber();?>">
                        <b><?=$cartItem->getTitle();?></b>
                        <span>x<?=$cartItem->getCount();?> $<?=$cartItem->getTotalPrice();?></span>
                    </a>
                </li>
                <? } ?>
                <li class="divider"></li>
                <li><a href="<?=$contextUrl?>cart"><?=Language::getMainLabel("total");?>: $<?=ShoppingCart::get()->getTotalPrice();?></a></li>
            </ul>
            <? }; ?>
        </div>
    </div>
</div>